<form method="post" name="theform" novalidate>
  <div id="msform" ng-init="step=1">
    <fieldset ng-show="step==1">
      <h2 class="fs-title">Spark Registration Form</h2>
      <label class="control-label">City * </label><br/>
      <select ng-model="editCtrl.curCity" ng-options="city as city.CityName for city in editCtrl.cities" ng-change="editCtrl.changeCurCity()" style="width: 25%; margin-bottom: 20px;">
      </select>
      <div ng-show="editCtrl.show">
        <div class="input-group" ng-class="{'has-error':!theform.Name.$valid && !theform.Name.$untouched,'has-success':theform.Name.$valid}" >
          <label class="control-label">
            <i class="glyphicon glyphicon-user" style="float:left">
            </i> Name *
          </label>
          <input type="text" name="Name" placeholder="Your Name" ng-required="true" ng-model="editCtrl.newparticipant.name" class="form-control"/>
          <p class="help-block" ng-show="theform.Name.$error.required && theform.Name.$touched">
            This field is required
          </p>
        </div>

        <div class="input-group">
          <label class="control-label">Class *</label><br/>
          <select ng-model="editCtrl.newparticipant.class" style="width: 25%;">
            <option selected="selected" value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>
        </div>

        <div class="input-group" ng-class="{'has-error':!theform.rollno.$valid && !theform.rollno.$untouched,'has-success':theform.rollno.$valid}" >

          <label class="control-label">
            <i class="glyphicon glyphicon-education" style="float:left">
            </i> Roll No *
          </label>
          <input type="text" name="rollno" ng-required="true" placeholder="Enter your roll no" ng-model="editCtrl.newparticipant.rollnum" class="form-control"/>
          <p class="help-block" ng-show="theform.rollno.$error.required && theform.rollno.$touched">
            This field is required
          </p>
        </div>

        <div class="input-group" ng-class="{'has-error':!theform.school.$valid && !theform.school.$untouched,'has-success':theform.school.$valid}"  >
          <label class="control-label">School *</label>
          <input type="text" class="form-control" name="school" ng-required="true" placeholder="Stream" ng-model="editCtrl.newparticipant.school" />
          <p class="help-block" ng-show="theform.school.$error.required && theform.school.$touched">
          This field is required
          </p>
        </div>

        <div class="input-group has-feedback" ng-class="{'has-error':!theform.email.$valid && (theform.email.$dirty || theform.email.$touched),'has-success':theform.email.$valid}" >
          <label class="control-label">Email ID * </label>
          <input type="email" name="email" ng-required="true" ng-pattern="/^[A-Za-z0-9._-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/" class="form-control" placeholder="Enter your Email-id" ng-model="editCtrl.newparticipant.email"/>
          <p class="help-block" ng-show="theform.email.$error.required && theform.email.$touched">
          This field is required
          </p>
          <div ng-class="{'glyphicon glyphicon-ok form-control-feedback':theform.email.$valid, 'glyphicon glyphicon-remove-sign form-control-feedback': !theform.email.$valid && (!theform.email.$pristine || theform.email.$touched)}">
          </div>

          <p class="help-block" ng-show="theform.email.$invalid && theform.email.$dirty">
            Please Enter a valid Email ID
          </p>
        </div>

        <div class="input-group has-feedback" ng-class="{'has-error':!theform.mobno.$valid && (theform.mobno.$dirty || theform.mobno.$touched),'has-success':theform.mobno.$valid}" >
          <label class="control-label">Mobile Number *</label>
          <input type="text" name="mobno" ng-required="true" class="form-control" ng-pattern="/^[0-9]{10}$/" placeholder="Your Mobile number" ng-model="editCtrl.newparticipant.mobile" />
          <div ng-class="{'glyphicon glyphicon-ok form-control-feedback':theform.mobno.$valid, 'glyphicon glyphicon-remove-sign form-control-feedback': !theform.mobno.$valid && (!theform.mobno.$pristine || theform.mobno.$touched)}">
          </div>
          <p class="help-block" ng-show="theform.mobno.$error.required && theform.mobno.$touched">
          This field is required
          </p>
          <p class="help-block" ng-show="theform.mobno.$invalid && theform.mobno.$dirty">
            Enter a Valid Mobile No. thats is 10-Digit long
          </p>
        </div>

        <button name="Submit"  class="submit action-button" value="submit" ng-disabled="theform.Name.$error.required || theform.rollno.$error.required || theform.school.$error.required || theform.email.$error.required || theform.mobno.$error.required"  ng-click ="editCtrl.submit()"  >Submit</button>
        
        <div style="color:rgb(217,83,79);font-size:13px" >
          The fields marked with * are required
        </div>
      </div>
      <div ng-show="editCtrl.show==false && editCtrl.curCity!=''">
        Sorry! The registrations for this Spark are full.
      </div>
    </fieldset>
  </div>
</form>
